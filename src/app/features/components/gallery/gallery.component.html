<div class="container mx-auto px-4 py-16">
  <h2 class="text-4xl font-bold text-teal-700 text-center mb-10 animate-fade-in-up">
    Gallery
  </h2>

  <!-- Filter Tabs -->
  <div class="flex justify-center gap-4 mb-12 flex-wrap">
    <button (click)="setCategory('all')" [class.bg-teal-600]="activeCategory() === 'all'" class="px-4 py-2 rounded-full text-sm font-medium transition hover:bg-teal-500 bg-gray-200 text-gray-700 hover:text-white">
      All
    </button>

    <button (click)="setCategory('jolieView')" [class.bg-teal-600]="activeCategory() === 'jolieView'" class="px-4 py-2 rounded-full text-sm font-medium transition hover:bg-teal-500 bg-gray-200 text-gray-700 hover:text-white">
      Jolie View 
    </button>

    <button (click)="setCategory('oneBedroom')" [class.bg-teal-600]="activeCategory() === 'oneBedroom'" class="px-4 py-2 rounded-full text-sm font-medium transition hover:bg-teal-500 bg-gray-200 text-gray-700 hover:text-white">
      One Bedroom Apartment
    </button>

    <button (click)="setCategory('familyApartment')" [class.bg-teal-600]="activeCategory() === 'familyApartment'" class="px-4 py-2 rounded-full text-sm font-medium transition hover:bg-teal-500 bg-gray-200 text-gray-700 hover:text-white">
      Family Apartment
    </button>

    <button (click)="setCategory('seychelles')" [class.bg-teal-600]="activeCategory() === 'seychelles'" class="px-4 py-2 rounded-full text-sm font-medium transition hover:bg-teal-500 bg-gray-200 text-gray-700 hover:text-white">
      Seychelles
    </button>
  </div>

  <!-- Filtered Images Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 animate-fade-in-up delay-200">
    @for (img of filteredImages(); track $index) {
      <div class="relative group cursor-pointer rounded-xl h-64 w-full overflow-hidden shadow-md" (click)="openLightbox(img)">
        <img [src]="img" alt="Gallery image" class="h-full w-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105 group-hover:brightness-90"/>
        <!-- Overlay -->
        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-50 transition-opacity duration-300">
          <span class="text-white text-sm sm:text-base font-semibold">View Image</span>
        </div>
      </div>
    }
  </div>
</div>
  
<!-- Lightbox Modal -->
@if(selectedImage()){
  <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 transition-opacity duration-500" (click)="closeLightbox()">
    <div class="relative max-w-[90%] max-h-[90%]" (click)="$event.stopPropagation()">
        <img [src]="selectedImage()!" class="max-w-full max-h-[80vh] rounded-xl border-4 border-white shadow-2xl transition-all duration-300"/>
        <button (click)="closeLightbox()" class="absolute top-4 right-4 w-12 h-12 hover:bg-white/20 text-white text-4xl rounded-full grid place-items-center transition" aria-label="Close">
          <fa-icon [icon]="faXmark"></fa-icon>
        </button>
    </div>
    <button (click)="previousImage(); $event.stopPropagation()" class="absolute left-4 top-1/2 -translate-y-1/2 w-16 h-16 hover:bg-white/20 text-white text-5xl rounded-full grid place-items-center shadow-md transition" aria-label="Previous">
      <fa-icon [icon]="faChevronLeft"></fa-icon>
    </button>
    <button (click)="nextImage(); $event.stopPropagation()" class="absolute right-4 top-1/2 -translate-y-1/2 w-16 h-16 hover:bg-white/20 text-white text-5xl rounded-full grid place-items-center shadow-md transition" aria-label="Next">
      <fa-icon [icon]="faChevronRight"></fa-icon>
    </button>
  </div>
}
